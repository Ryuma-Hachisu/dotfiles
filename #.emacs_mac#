(setq load-path (cons "~/.emacs.d/elisp" load-path))


(define-key global-map "\C-h" 'delete-backward-char) ; ’ºï’½ü
(define-key global-map "\C-d" 'delete-backward-char) ; ’ºï’½ü

;;; Locale’¤Ë’¹ç’¤ï’¤»’¤¿’´Ä’¶­’¤Î’Àß’Äê
(set-locale-environment nil)

;;; ’¥Û’¥¤’¡¼’¥ë’¥Ş’¥¦’¥¹
(mouse-wheel-mode t)
(setq mouse-wheel-follow-mouse t)

;;; ’ÂĞ’±ş’¤¹’¤ë’³ç’¸Ì’¤ò’¸÷’¤é’¤»’¤ë’¡£
(show-paren-mode 1)

(if  window-system(progn
;;; ’¥Ä’¡¼’¥ë’¥Ğ’¡¼’¤ò’¾Ã’¤¹
(tool-bar-mode 0)
))

;;; ’¥Ğ’¥Ã’¥¯’¥¢’¥Ã’¥×’¥Õ’¥¡’¥¤’¥ë’¤ò’ºî’¤é’¤Ê’¤¤
(setq backup-inhibited t)

(setq transpose-chars nil)

;; ’¥ê’¡¼’¥¸’¥ç’¥ó’¤À’¤¹
(setq-default transient-mark-mode t)

;;; ’½ª’Î»’»ş’¤Ë’¥ª’¡¼’¥È’¥»’¡¼’¥Ö’¥Õ’¥¡’¥¤’¥ë’¤ò’¾Ã’¤¹
(setq delete-auto-save-files t)

;;; ’Êä’´°’»ş’¤Ë’Âç’Ê¸’»ú’¾®’Ê¸’»ú’¤ò’¶è’ÊÌ’¤·’¤Ê’¤¤
(setq completion-ignore-case t)

;;; ’¶¯’ÎÏ’¤Ê’Êä’´°’µ¡’Ç½’¤ò’»È’¤¦
;;; p-b’¤Çprint-buffer’¤È’¤«
;;(load "complete")
;;(partial-completion-mode 1)

;;; ’Êä’´°’²Ä’Ç½’¤Ê’¤â’¤Î’¤ò’¿ï’»ş’É½’¼¨
;;; ’¾¯’¤·’¤¦’¤ë’¤µ’¤¤
(icomplete-mode 1)

;;; ’¥«’¡¼’¥½’¥ë’¤Î’°Ì’ÃÖ’¤¬’²¿’Ê¸’»ú’ÌÜ’¤«’¤ò’É½’¼¨’¤¹’¤ë
(column-number-mode t)

;;; ’¥«’¡¼’¥½’¥ë’¤Î’°Ì’ÃÖ’¤¬’²¿’¹Ô’ÌÜ’¤«’¤ò’É½’¼¨’¤¹’¤ë
(line-number-mode t)

;;; ’¥¹’¥¯’¥í’¡¼’¥ë’¥Ğ’¡¼’¤ò’±¦’Â¦’¤Ë’É½’¼¨’¤¹’¤ë
;;(set-scroll-bar-mode 'right)

;;; ’¹Ô’¤Î’Àè’Æ¬’¤ÇC-k’¤ò’°ì’²ó’²¡’¤¹’¤À’¤±’¤Ç’¹Ô’Á´’ÂÎ’¤ò’¾Ã’µî’¤¹’¤ë
(setq kill-whole-line t)

;;; ’¥Ğ’¥Ã’¥Õ’¥¡’¤Î’ºÇ’¸å’¤Çnewline’¤Ç’¿·’µ¬’¹Ô’¤ò’ÄÉ’²Ã’¤¹’¤ë’¤Î’¤ò’¶Ø’»ß’¤¹’¤ë
(setq next-line-add-newlines nil)

;;; emacs -nw ’¤Ç’µ¯’Æ°’¤·’¤¿’»ş’¤Ë’¥á’¥Ë’¥å’¡¼’¥Ğ’¡¼’¤ò’¾Ã’¤¹
(if window-system (menu-bar-mode 1) (menu-bar-mode -1))

;;; ’²è’Áü’¥Õ’¥¡’¥¤’¥ë’¤ò’É½’¼¨’¤¹’¤ë
(auto-image-file-mode t)

(setq desktop-files-not-to-save "\\(^/[^/:]*:\\|\\.diary$\\)")
(autoload 'desktop-save "desktop" nil t)
(autoload 'desktop-clear "desktop" nil t)
(autoload 'desktop-load-default "desktop" nil t)

;;; ’¥»’¥Ã’¥·’¥ç’¥ó’¤ò’Êİ’Â¸’¤¹’¤ë
;;; ’½é’¤á’¤Ï’¼ê’Æ°’¤ÇM-x desktop-save’¤·’¤Ê’¤±’¤ì’¤Ğ’¤¤’¤±’¤Ê’¤¤
(desktop-load-default)
(autoload 'desktop-remove "desktop" nil t)
(desktop-read)
(add-hook 'kill-emacs-hook 'desktop-save-in-desktop-dir)

;;; ’¼«’Æ°’¤Ç’¥Õ’¥¡’¥¤’¥ë’¤ò’ÁŞ’Æş’¤¹’¤ë
(auto-insert-mode t)

;;; ’¼¡’¤ÎGC’¤Ş’¤Ç’¤Ë’»È’ÍÑ’²Ä’Ç½’¤Ê’¥Ğ’¥¤’¥È’¿ô
(setq gc-cons-threshold 4096000)

;;; ’ºÇ’¶á’»È’¤Ã’¤¿’¥Õ’¥¡’¥¤’¥ë’¤ò’Êİ’Â¸(M-x recentf-open-files’¤Ç’³«’¤¯)
(recentf-mode)

;; ’¥ß’¥Ë’¥Ğ’¥Ã’¥Õ’¥¡’¤Î’Íú’Îò’¤ò’Êİ’Â¸’¤¹’¤ë
(savehist-mode 1)

;; ’¥ß’¥Ë’¥Ğ’¥Ã’¥Õ’¥¡’¤Î’Íú’Îò’¤Î’Êİ’Â¸’¿ô’¤ò’Áı’¤ä’¤¹
(setq history-length 3000)

;; ’¥·’¥ó’¥Ü’¥ê’¥Ã’¥¯’¥ê’¥ó’¥¯’¤Î’¥Õ’¥¡’¥¤’¥ë’³«’¤¯’¤¿’¤Ó’¤Ë’Ê¹’¤«’¤ì’¤ë’¤¿’¤á’¤à’¤«’¤Ä’¤¯’¤«’¤é’¾Ã’¤¹
(setq vc-follow-symlinks t)

;; ’Ê¸’»ú’¤Î’¿§’¤ò’Àß’Äê’¤·’¤Ş’¤¹’¡£
(add-to-list 'default-frame-alist '(foreground-color . "black"))
;; ’ÇØ’·Ê’¿§’¤ò’Àß’Äê’¤·’¤Ş’¤¹’¡£
(add-to-list 'default-frame-alist '(background-color ."white"))
;; ’¥«’¡¼’¥½’¥ë’¤Î’¿§’¤ò’Àß’Äê’¤·’¤Ş’¤¹’¡£
(add-to-list 'default-frame-alist '(cursor-color . "SlateBlue2"))
;; ’¥Ş’¥¦’¥¹’¥İ’¥¤’¥ó’¥¿’¤Î’¿§’¤ò’Àß’Äê’¤·’¤Ş’¤¹’¡£
(add-to-list 'default-frame-alist '(mouse-color . "SlateBlue2"))


;; elisp’¤Î’¥¤’¥ó’¥¹’¥È’¡¼’¥ë’¤ò’´Ê’Ã±’¤Ë
(require 'install-elisp)
(setq install-elisp-repository-directory "~/.emacs.d/elisp/")

;; ’²ş’¹Ô’¥³’¡¼’¥É’¤ò’É½’¼¨
(setq eol-mnemonic-dos "(CRLF)")
(setq eol-mnemonic-mac "(CR)")
(setq eol-mnemonic-unix "(LF)")

;; "yes or no"’¤ò"y or n"’¤Ë
(fset 'yes-or-no-p 'y-or-n-p)

;; auto-complete
;; ’Êä’´°’¸õ’Êä’¤ò’¼«’Æ°’¥İ’¥Ã’¥×’¥¢’¥Ã’¥×
;;(require 'auto-complete)
;;(global-auto-complete-mode t)
;;(setq ac-modes (cons 'js-mode ac-modes))

;; ’¥¿’¥Ö’¤È’¤«
(setq js-indent-level 4)


;; gtags’¤Î’Àß’Äê
(autoload 'gtags-mode "gtags" "" t)
(setq gtags-mode-hook
      '(lambda ()
         (local-set-key "\M-t" 'gtags-find-tag)
         (local-set-key "\M-r" 'gtags-find-rtag)
         (local-set-key "\M-s" 'gtags-find-symbol)
         (local-set-key "\C-t" 'gtags-pop-stack)
	 ))

(add-hook 'c-mode-common-hook
          '(lambda()
             (gtags-mode 1)
             (gtags-make-complete-list)
             ))

(add-hook 'php-mode-common-hook
          '(lambda ()
             (gtags-mode 1)
             (gtags-make-complete-list)
             ))
	     

;; (2) And put the following in your ~/.emacs startup file:
(require 'auto-install)
;; (3) Add this to your ~/.emacs to optionally specify a download directory:
(setq auto-install-directory "~/.emacs.d/elisp/")
;; (4) Optionally, if your computer is always connected Internet when Emacs start up,


;; elisp’¤Î’¥¤’¥ó’¥¹’¥È’¡¼’¥ë’¤ò’´Ê’Ã±’¤Ë
(require 'install-elisp)
(setq install-elisp-repository-directory "~/.emacs.d/elisp/")

;; ’²ş’¹Ô’¥³’¡¼’¥É’¤ò’É½’¼¨
(setq eol-mnemonic-dos "(CRLF)")
(setq eol-mnemonic-mac "(CR)")
(setq eol-mnemonic-unix "(LF)")

;; "yes or no"’¤ò"y or n"’¤Ë
(fset 'yes-or-no-p 'y-or-n-p)

;; auto-complete
;; ’Êä’´°’¸õ’Êä’¤ò’¼«’Æ°’¥İ’¥Ã’¥×’¥¢’¥Ã’¥×
;;(require 'auto-complete)
;;(global-auto-complete-mode t)
;;(setq ac-modes (cons 'js-mode ac-modes))

;; ’¥¿’¥Ö’¤È’¤«
(setq js-indent-level 4)


;; gtags’¤Î’Àß’Äê
(autoload 'gtags-mode "gtags" "" t)
(setq gtags-mode-hook
      '(lambda ()
         (local-set-key "\M-t" 'gtags-find-tag)
         (local-set-key "\M-r" 'gtags-find-rtag)
         (local-set-key "\M-s" 'gtags-find-symbol)
         (local-set-key "\C-t" 'gtags-pop-stack)
	 ))

(add-hook 'c-mode-common-hook
          '(lambda()
             (gtags-mode 1)
             (gtags-make-complete-list)
             ))

(add-hook 'php-mode-common-hook
          '(lambda ()
             (gtags-mode 1)
             (gtags-make-complete-list)
             ))

;; ’¤ä’¤Ã’¤Æ’¤ª’¤«’¤Ê’¤¤’¤È’¤À’¤á
(condition-case nil
    (called-interactively-p nil)

  (defmacro called-interactively-p (arg)

    (case arg
	  (interactive `(interactive-p))
 
      ((any nil) `(called-interactively-p)))))

	     

;; (2) And put the following in your ~/.emacs startup file:
(require 'auto-install)
;; (3) Add this to your ~/.emacs to optionally specify a download directory:
(setq auto-install-directory "~/.emacs.d/elisp/")
;; (4) Optionally, if your computer is always connected Internet when Emacs start up,
;;     I recommend you add below to your ~/.emacs, to update package name when start up:
(auto-install-update-emacswiki-package-name t)
;;     And above setup is not necessary, because AutoInstall will automatically update-emacswiki-package-name;;     package name when you just first call `auto-install-from-emacswiki',
;;     above setup just avoid *delay* when you first call `auto-install-from-emacswiki'.d/elisp;;
;; (5) I recommend you add below to your ~/.emacs for install-elisp users:
(auto-install-compatibility-setup)

(require 'anything)

(autoload 'js2-mode "js2-mode" nil t)
(add-to-list 'auto-mode-alist '("\\.\\(js\\|json\\)$" . js2-mode))

(add-to-list 'auto-mode-alist '("\\.m?$" . objc-mode))
(add-to-list 'auto-mode-alist '("\\.h$" . objc-mode))


;; clipboard
(if (not window-system)
    (progn(defun copy-from-osx ()
	    (shell-command-to-string "pbpaste"))
	  (defun paste-to-osx (text &optional push) 	
	    (let ((process-connection-type nil))
	      (let ((proc (start-process "pbcopy" "*Messages*" "pbcopy")))
		(process-send-string proc text)
		(process-send-eof proc))))
	  (setq interprogram-cut-function 'paste-to-osx)
	  (setq interprogram-paste-function 'copy-from-osx)))

;; ruby-mode
(autoload 'ruby-mode "ruby-mode"
  "Mode for editing ruby source files" t)
(add-to-list 'auto-mode-alist '("\\.rb$" . ruby-mode))
(add-to-list 'auto-mode-alist '("Capfile$" . ruby-mode))
(add-to-list 'auto-mode-alist '("Gemfile$" . ruby-mode))

;; objc, Xcode
(setq auto-mode-alist (append (list '("\\.h$" . objc-mode)
                                    '("\\.m$" . objc-mode))
                              auto-mode-alist))
(add-hook 'objc-mode-hook
          (lambda ()
            (define-key objc-mode-map "\C-c\C-b" 'compile)
            (define-key objc-mode-map "\C-c\C-r" 'run)
            (define-key objc-mode-map "\C-c\C-x" 'xcode)
            (define-key objc-mode-map "\C-c\C-d" 'doc)
            (define-key objc-mode-map "\C-c\C-c" 'comment-region)
            (define-key objc-mode-map "\C-cc"    'uncomment-region)
            (setq compile-command "xcodebuild -project ../*.xcodeproj -configuration Debug -sdk iphonesimulator4.3 ")
            (setq compilation-scroll-output t)))
(defun doc ()
  (interactive)
  (shell-command-to-string "~/bin/xcode-show-doc.sh"))
(defun xcode ()
  (interactive)
  (shell-command-to-string "~/bin/xcode-show-proj.sh"))
(defun run ()
  (interactive)
  (shell-command-to-string "~/bin/xcode-run.sh"))

;; ruby ’¤Îdo end’¤Ê’¤É’¤Î’ÂĞ’±ş’´Ø’·¸’¤ò’¼«’Æ°’¤Ç’Êä’Àµ
(require 'ruby-electric)
(add-hook 'ruby-mode-hook '(lambda () (ruby-electric-mode t)))
(setq ruby-electric-expand-delimiters-list nil)

;; rcodetools
(require 'rcodetools)
(setq rct-find-tag-if-available nil)
(defun ruby-mode-hook-rcodetools ()
  (define-key ruby-mode-map "\M-\C-i" 'rct-complete-symbol)
  (define-key ruby-mode-map "\C-c\C-t" 'ruby-toggle-buffer)
  (define-key ruby-mode-map "\C-c\C-d" 'xmp)
  (define-key ruby-mode-map "\C-c\C-f" 'rct-ri))
(add-hook 'ruby-mode-hook 'ruby-mode-hook-rcodetools)

(require 'anything-rcodetools)
(setq rct-get-all-methods-command "PAGER=cat fri -l")
(define-key anything-map [(control ?;)] 'anything-execute-persistent-action)

;;tree-undo				   
(when (require 'undo-tree nil t)
  (global-undo-tree-mode))
				   
;; undo’µ¡’Ç½
(global-set-key [?\C-/] 'undo)

;; anything’µ¯’Æ°’¥³’¥Ş’¥ó’¥É
(define-key global-map (kbd "C-x b") 'anything) ;

;; elisp’¤Î’¥¤’¥ó’¥¹’¥È’¡¼’¥ë’¤ò’´Ê’Ã±’¤Ë
(require 'install-elisp)
(setq install-elisp-repository-directory "~/.emacs.d/elisp/")

;; ’²ş’¹Ô’¥³’¡¼’¥É’¤ò’É½’¼¨
(setq eol-mnemonic-dos "(CRLF)")
(setq eol-mnemonic-mac "(CR)")
(setq eol-mnemonic-unix "(LF)")

;; "yes or no"’¤ò"y or n"’¤Ë
(fset 'yes-or-no-p 'y-or-n-p)

;; auto-complete
;; ’Êä’´°’¸õ’Êä’¤ò’¼«’Æ°’¥İ’¥Ã’¥×’¥¢’¥Ã’¥×
;;(require 'auto-complete)
;;(global-auto-complete-mode t)
;;(setq ac-modes (cons 'js-mode ac-modes))

;; ’¥¿’¥Ö’¤È’¤«
(setq js-indent-level 4)


;; gtags’¤Î’Àß’Äê
(autoload 'gtags-mode "gtags" "" t)
(setq gtags-mode-hook
      '(lambda ()
         (local-set-key "\M-t" 'gtags-find-tag)
         (local-set-key "\M-r" 'gtags-find-rtag)
         (local-set-key "\M-s" 'gtags-find-symbol)
         (local-set-key "\C-t" 'gtags-pop-stack)
	 ))

(add-hook 'c-mode-common-hook
          '(lambda()
             (gtags-mode 1)
             (gtags-make-complete-list)
             ))

(add-hook 'php-mode-common-hook
          '(lambda ()
             (gtags-mode 1)
             (gtags-make-complete-list)
             ))

;; ’¤ä’¤Ã’¤Æ’¤ª’¤«’¤Ê’¤¤’¤È’¤À’¤á
(condition-case nil
    (called-interactively-p nil)

  (defmacro called-interactively-p (arg)

    (case arg
	  (interactive `(interactive-p))
 
      ((any nil) `(called-interactively-p)))))

	     

;; (2) And put the following in your ~/.emacs startup file:
(require 'auto-install)
;; (3) Add this to your ~/.emacs to optionally specify a download directory:
(setq auto-install-directory "~/.emacs.d/elisp/")
;; (4) Optionally, if your computer is always connected Internet when Emacs start up,
;;     I recommend you add below to your ~/.emacs, to update package name when start up:
(auto-install-update-emacswiki-package-name t)
;;     And above setup is not necessary, because AutoInstall will automatically update-emacswiki-package-name;;     package name when you just first call `auto-install-from-emacswiki',
;;     above setup just avoid *delay* when you first call `auto-install-from-emacswiki'.d/elisp;;
;; (5) I recommend you add below to your ~/.emacs for install-elisp users:
(auto-install-compatibility-setup)

(require 'anything)

(autoload 'js2-mode "js2-mode" nil t)
(add-to-list 'auto-mode-alist '("\\.\\(js\\|json\\)$" . js2-mode))

(add-to-list 'auto-mode-alist '("\\.m?$" . objc-mode))
(add-to-list 'auto-mode-alist '("\\.h$" . objc-mode))


;; clipboard
(if (not window-system)
    (progn(defun copy-from-osx ()
	    (shell-command-to-string "pbpaste"))
	  (defun paste-to-osx (text &optional push) 	
	    (let ((process-connection-type nil))
	      (let ((proc (start-process "pbcopy" "*Messages*" "pbcopy")))
		(process-send-string proc text)
		(process-send-eof proc))))
	  (setq interprogram-cut-function 'paste-to-osx)
	  (setq interprogram-paste-function 'copy-from-osx)))

;; ruby-mode
(autoload 'ruby-mode "ruby-mode"
  "Mode for editing ruby source files" t)
(add-to-list 'auto-mode-alist '("\\.rb$" . ruby-mode))
(add-to-list 'auto-mode-alist '("Capfile$" . ruby-mode))
(add-to-list 'auto-mode-alist '("Gemfile$" . ruby-mode))

;; objc, Xcode
(setq auto-mode-alist (append (list '("\\.h$" . objc-mode)
                                    '("\\.m$" . objc-mode))
                              auto-mode-alist))
(add-hook 'objc-mode-hook
          (lambda ()
            (define-key objc-mode-map "\C-c\C-b" 'compile)
            (define-key objc-mode-map "\C-c\C-r" 'run)
            (define-key objc-mode-map "\C-c\C-x" 'xcode)
            (define-key objc-mode-map "\C-c\C-d" 'doc)
            (define-key objc-mode-map "\C-c\C-c" 'comment-region)
            (define-key objc-mode-map "\C-cc"    'uncomment-region)
            (setq compile-command "xcodebuild -project ../*.xcodeproj -configuration Debug -sdk iphonesimulator4.3 ")
            (setq compilation-scroll-output t)))
(defun doc ()
  (interactive)
  (shell-command-to-string "~/bin/xcode-show-doc.sh"))
(defun xcode ()
  (interactive)
  (shell-command-to-string "~/bin/xcode-show-proj.sh"))
(defun run ()
  (interactive)
  (shell-command-to-string "~/bin/xcode-run.sh"))

;; ruby ’¤Îdo end’¤Ê’¤É’¤Î’ÂĞ’±ş’´Ø’·¸’¤ò’¼«’Æ°’¤Ç’Êä’Àµ
(require 'ruby-electric)
(add-hook 'ruby-mode-hook '(lambda () (ruby-electric-mode t)))
(setq ruby-electric-expand-delimiters-list nil)

;; rcodetools
(require 'rcodetools)
(setq rct-find-tag-if-available nil)
(defun ruby-mode-hook-rcodetools ()
  (define-key ruby-mode-map "\M-\C-i" 'rct-complete-symbol)
  (define-key ruby-mode-map "\C-c\C-t" 'ruby-toggle-buffer)
  (define-key ruby-mode-map "\C-c\C-d" 'xmp)
  (define-key ruby-mode-map "\C-c\C-f" 'rct-ri))
(add-hook 'ruby-mode-hook 'ruby-mode-hook-rcodetools)

(require 'anything-rcodetools)
(setq rct-get-all-methods-command "PAGER=cat fri -l")
(define-key anything-map [(control ?;)] 'anything-execute-persistent-action)

;;tree-undo				   
(when (require 'undo-tree nil t)
  (global-undo-tree-mode))
				   
;; undo’µ¡’Ç½
(global-set-key [?\C-/] 'undo)

;; anything’µ¯’Æ°’¥³’¥Ş’¥ó’¥É
(define-key global-map (kbd "C-x b") 'anything) ;



;; elisp’¤Î’¥¤’¥ó’¥¹’¥È’¡¼’¥ë’¤ò’´Ê’Ã±’¤Ë
(require 'install-elisp)
(setq install-elisp-repository-directory "~/.emacs.d/elisp/")

;; ’²ş’¹Ô’¥³’¡¼’¥É’¤ò’É½’¼¨
(setq eol-mnemonic-dos "(CRLF)")
(setq eol-mnemonic-mac "(CR)")
(setq eol-mnemonic-unix "(LF)")

;; "yes or no"’¤ò"y or n"’¤Ë
(fset 'yes-or-no-p 'y-or-n-p)

;; auto-complete
;; ’Êä’´°’¸õ’Êä’¤ò’¼«’Æ°’¥İ’¥Ã’¥×’¥¢’¥Ã’¥×
;;(require 'auto-complete)
;;(global-auto-complete-mode t)
;;(setq ac-modes (cons 'js-mode ac-modes))

;; ’¥¿’¥Ö’¤È’¤«
(setq js-indent-level 4)


;; gtags’¤Î’Àß’Äê
(autoload 'gtags-mode "gtags" "" t)
(setq gtags-mode-hook
      '(lambda ()
         (local-set-key "\M-t" 'gtags-find-tag)
         (local-set-key "\M-r" 'gtags-find-rtag)
         (local-set-key "\M-s" 'gtags-find-symbol)
         (local-set-key "\C-t" 'gtags-pop-stack)
	 ))

(add-hook 'c-mode-common-hook
          '(lambda()
             (gtags-mode 1)
             (gtags-make-complete-list)
             ))

(add-hook 'php-mode-common-hook
          '(lambda ()
             (gtags-mode 1)
             (gtags-make-complete-list)
             ))

;; ’¤ä’¤Ã’¤Æ’¤ª’¤«’¤Ê’¤¤’¤È’¤À’¤á
(condition-case nil
    (called-interactively-p nil)

  (defmacro called-interactively-p (arg)

    (case arg
	  (interactive `(interactive-p))
 
      ((any nil) `(called-interactively-p)))))

	     

;; (2) And put the following in your ~/.emacs startup file:
(require 'auto-install)
;; (3) Add this to your ~/.emacs to optionally specify a download directory:
(setq auto-install-directory "~/.emacs.d/elisp/")
;; (4) Optionally, if your computer is always connected Internet when Emacs start up,
;;     I recommend you add below to your ~/.emacs, to update package name when start up:
(auto-install-update-emacswiki-package-name t)
;;     And above setup is not necessary, because AutoInstall will automatically update-emacswiki-package-name;;     package name when you just first call `auto-install-from-emacswiki',
;;     above setup just avoid *delay* when you first call `auto-install-from-emacswiki'.d/elisp;;
;; (5) I recommend you add below to your ~/.emacs for install-elisp users:
(auto-install-compatibility-setup)

(require 'anything)

(autoload 'js2-mode "js2-mode" nil t)
(add-to-list 'auto-mode-alist '("\\.\\(js\\|json\\)$" . js2-mode))

(add-to-list 'auto-mode-alist '("\\.m?$" . objc-mode))
(add-to-list 'auto-mode-alist '("\\.h$" . objc-mode))


;; clipboard
(if (not window-system)
    (progn(defun copy-from-osx ()
	    (shell-command-to-string "pbpaste"))
	  (defun paste-to-osx (text &optional push) 	
	    (let ((process-connection-type nil))
	      (let ((proc (start-process "pbcopy" "*Messages*" "pbcopy")))
		(process-send-string proc text)
		(process-send-eof proc))))
	  (setq interprogram-cut-function 'paste-to-osx)
	  (setq interprogram-paste-function 'copy-from-osx)))

;; ruby-mode
(autoload 'ruby-mode "ruby-mode"
  "Mode for editing ruby source files" t)
(add-to-list 'auto-mode-alist '("\\.rb$" . ruby-mode))
(add-to-list 'auto-mode-alist '("Capfile$" . ruby-mode))
(add-to-list 'auto-mode-alist '("Gemfile$" . ruby-mode))

;; objc, Xcode
(setq auto-mode-alist (append (list '("\\.h$" . objc-mode)
                                    '("\\.m$" . objc-mode))
                              auto-mode-alist))
(add-hook 'objc-mode-hook
          (lambda ()
            (define-key objc-mode-map "\C-c\C-b" 'compile)
            (define-key objc-mode-map "\C-c\C-r" 'run)
            (define-key objc-mode-map "\C-c\C-x" 'xcode)
            (define-key objc-mode-map "\C-c\C-d" 'doc)
            (define-key objc-mode-map "\C-c\C-c" 'comment-region)
            (define-key objc-mode-map "\C-cc"    'uncomment-region)
            (setq compile-command "xcodebuild -project ../*.xcodeproj -configuration Debug -sdk iphonesimulator4.3 ")
            (setq compilation-scroll-output t)))
(defun doc ()
  (interactive)
  (shell-command-to-string "~/bin/xcode-show-doc.sh"))
(defun xcode ()
  (interactive)
  (shell-command-to-string "~/bin/xcode-show-proj.sh"))
(defun run ()
  (interactive)
  (shell-command-to-string "~/bin/xcode-run.sh"))

;; ruby ’¤Îdo end’¤Ê’¤É’¤Î’ÂĞ’±ş’´Ø’·¸’¤ò’¼«’Æ°’¤Ç’Êä’Àµ
(require 'ruby-electric)
(add-hook 'ruby-mode-hook '(lambda () (ruby-electric-mode t)))
(setq ruby-electric-expand-delimiters-list nil)

;; rcodetools
(require 'rcodetools)
(setq rct-find-tag-if-available nil)
(defun ruby-mode-hook-rcodetools ()
  (define-key ruby-mode-map "\M-\C-i" 'rct-complete-symbol)
  (define-key ruby-mode-map "\C-c\C-t" 'ruby-toggle-buffer)
  (define-key ruby-mode-map "\C-c\C-d" 'xmp)
  (define-key ruby-mode-map "\C-c\C-f" 'rct-ri))
(add-hook 'ruby-mode-hook 'ruby-mode-hook-rcodetools)

(require 'anything-rcodetools)
(setq rct-get-all-methods-command "PAGER=cat fri -l")
(define-key anything-map [(control ?;)] 'anything-execute-persistent-action)

;;tree-undo				   
(when (require 'undo-tree nil t)
  (global-undo-tree-mode))
				   
;; undo’µ¡’Ç½
(global-set-key [?\C-/] 'undo)

;; anything’µ¯’Æ°’¥³’¥Ş’¥ó’¥É
(define-key global-map (kbd "C-x b") 'anything) ;


;; elisp’¤Î’¥¤’¥ó’¥¹’¥È’¡¼’¥ë’¤ò’´Ê’Ã±’¤Ë
(require 'install-elisp)
(setq install-elisp-repository-directory "~/.emacs.d/elisp/")

;; ’²ş’¹Ô’¥³’¡¼’¥É’¤ò’É½’¼¨
(setq eol-mnemonic-dos "(CRLF)")
(setq eol-mnemonic-mac "(CR)")
(setq eol-mnemonic-unix "(LF)")

;; "yes or no"’¤ò"y or n"’¤Ë
(fset 'yes-or-no-p 'y-or-n-p)

;; auto-complete
;; ’Êä’´°’¸õ’Êä’¤ò’¼«’Æ°’¥İ’¥Ã’¥×’¥¢’¥Ã’¥×
;;(require 'auto-complete)
;;(global-auto-complete-mode t)
;;(setq ac-modes (cons 'js-mode ac-modes))

;; ’¥¿’¥Ö’¤È’¤«
(setq js-indent-level 4)


;; gtags’¤Î’Àß’Äê
(autoload 'gtags-mode "gtags" "" t)
(setq gtags-mode-hook
      '(lambda ()
         (local-set-key "\M-t" 'gtags-find-tag)
         (local-set-key "\M-r" 'gtags-find-rtag)
         (local-set-key "\M-s" 'gtags-find-symbol)
         (local-set-key "\C-t" 'gtags-pop-stack)
	 ))

(add-hook 'c-mode-common-hook
          '(lambda()
             (gtags-mode 1)
             (gtags-make-complete-list)
             ))

(add-hook 'php-mode-common-hook
          '(lambda ()
             (gtags-mode 1)
             (gtags-make-complete-list)
             ))

;; ’¤ä’¤Ã’¤Æ’¤ª’¤«’¤Ê’¤¤’¤È’¤À’¤á
(condition-case nil
    (called-interactively-p nil)

  (defmacro called-interactively-p (arg)

    (case arg
	  (interactive `(interactive-p))
 
      ((any nil) `(called-interactively-p)))))

	     

;; (2) And put the following in your ~/.emacs startup file:
(require 'auto-install)
;; (3) Add this to your ~/.emacs to optionally specify a download directory:
(setq auto-install-directory "~/.emacs.d/elisp/")
;; (4) Optionally, if your computer is always connected Internet when Emacs start up,
;;     I recommend you add below to your ~/.emacs, to update package name when start up:
(auto-install-update-emacswiki-package-name t)
;;     And above setup is not necessary, because AutoInstall will automatically update-emacswiki-package-name;;     package name when you just first call `auto-install-from-emacswiki',
;;     above setup just avoid *delay* when you first call `auto-install-from-emacswiki'.d/elisp;;
;; (5) I recommend you add below to your ~/.emacs for install-elisp users:
(auto-install-compatibility-setup)

(require 'anything)

(autoload 'js2-mode "js2-mode" nil t)
(add-to-list 'auto-mode-alist '("\\.\\(js\\|json\\)$" . js2-mode))

(add-to-list 'auto-mode-alist '("\\.m?$" . objc-mode))
(add-to-list 'auto-mode-alist '("\\.h$" . objc-mode))


;; clipboard
(if (not window-system)
    (progn(defun copy-from-osx ()
	    (shell-command-to-string "pbpaste"))
	  (defun paste-to-osx (text &optional push) 	
	    (let ((process-connection-type nil))
	      (let ((proc (start-process "pbcopy" "*Messages*" "pbcopy")))
		(process-send-string proc text)
		(process-send-eof proc))))
	  (setq interprogram-cut-function 'paste-to-osx)
	  (setq interprogram-paste-function 'copy-from-osx)))

;; ruby-mode
(autoload 'ruby-mode "ruby-mode"
  "Mode for editing ruby source files" t)
(add-to-list 'auto-mode-alist '("\\.rb$" . ruby-mode))
(add-to-list 'auto-mode-alist '("Capfile$" . ruby-mode))
(add-to-list 'auto-mode-alist '("Gemfile$" . ruby-mode))

;; objc, Xcode
(setq auto-mode-alist (append (list '("\\.h$" . objc-mode)
                                    '("\\.m$" . objc-mode))
                              auto-mode-alist))
(add-hook 'objc-mode-hook
          (lambda ()
            (define-key objc-mode-map "\C-c\C-b" 'compile)
            (define-key objc-mode-map "\C-c\C-r" 'run)
            (define-key objc-mode-map "\C-c\C-x" 'xcode)
            (define-key objc-mode-map "\C-c\C-d" 'doc)
            (define-key objc-mode-map "\C-c\C-c" 'comment-region)
            (define-key objc-mode-map "\C-cc"    'uncomment-region)
            (setq compile-command "xcodebuild -project ../*.xcodeproj -configuration Debug -sdk iphonesimulator4.3 ")
            (setq compilation-scroll-output t)))
(defun doc ()
  (interactive)
  (shell-command-to-string "~/bin/xcode-show-doc.sh"))
(defun xcode ()
  (interactive)
  (shell-command-to-string "~/bin/xcode-show-proj.sh"))
(defun run ()
  (interactive)
  (shell-command-to-string "~/bin/xcode-run.sh"))

;; ruby ’¤Îdo end’¤Ê’¤É’¤Î’ÂĞ’±ş’´Ø’·¸’¤ò’¼«’Æ°’¤Ç’Êä’Àµ
(require 'ruby-electric)
(add-hook 'ruby-mode-hook '(lambda () (ruby-electric-mode t)))
(setq ruby-electric-expand-delimiters-list nil)

;; rcodetools
(require 'rcodetools)
(setq rct-find-tag-if-available nil)
(defun ruby-mode-hook-rcodetools ()
  (define-key ruby-mode-map "\M-\C-i" 'rct-complete-symbol)
  (define-key ruby-mode-map "\C-c\C-t" 'ruby-toggle-buffer)
  (define-key ruby-mode-map "\C-c\C-d" 'xmp)
  (define-key ruby-mode-map "\C-c\C-f" 'rct-ri))
(add-hook 'ruby-mode-hook 'ruby-mode-hook-rcodetools)

(require 'anything-rcodetools)
(setq rct-get-all-methods-command "PAGER=cat fri -l")
(define-key anything-map [(control ?;)] 'anything-execute-persistent-action)

;;tree-undo				   
(when (require 'undo-tree nil t)
  (global-undo-tree-mode))
				   
;; undo’µ¡’Ç½
(global-set-key [?\C-/] 'undo)

;; anything’µ¯’Æ°’¥³’¥Ş’¥ó’¥É
(define-key global-map (kbd "C-x b") 'anything) ;

	;;     I recommend you add below to your ~/.emacs, to update package name when start up:
(auto-install-update-emacswiki-package-name t)
;;     And above setup is not necessary, because AutoInstall will automatically update-emacswiki-package-name;;     package name when you just first call `auto-install-from-emacswiki',
;;     above setup just avoid *delay* when you first call `auto-install-from-emacswiki'.d/elisp;;
;; (5) I recommend you add below to your ~/.emacs for install-elisp users:
(auto-install-compatibility-setup)

(require 'anything)

(autoload 'js2-mode "js2-mode" nil t)
(add-to-list 'auto-mode-alist '("\\.\\(js\\|json\\)$" . js2-mode))

(add-to-list 'auto-mode-alist '("\\.m?$" . objc-mode))
(add-to-list 'auto-mode-alist '("\\.h$" . objc-mode))


;; clipboard
(if (not window-system)
    (progn(defun copy-from-osx ()
	    (shell-command-to-string "pbpaste"))
	  (defun paste-to-osx (text &optional push) 	
	    (let ((process-connection-type nil))
	      (let ((proc (start-process "pbcopy" "*Messages*" "pbcopy")))
		(process-send-string proc text)
		(process-send-eof proc))))
	  (setq interprogram-cut-function 'paste-to-osx)
	  (setq interprogram-paste-function 'copy-from-osx)))

;; ruby-mode
(autoload 'ruby-mode "ruby-mode"
  "Mode for editing ruby source files" t)
(add-to-list 'auto-mode-alist '("\\.rb$" . ruby-mode))
(add-to-list 'auto-mode-alist '("Capfile$" . ruby-mode))
(add-to-list 'auto-mode-alist '("Gemfile$" . ruby-mode))

;; objc, Xcode
(setq auto-mode-alist (append (list '("\\.h$" . objc-mode)
                                    '("\\.m$" . objc-mode))
                              auto-mode-alist))
(add-hook 'objc-mode-hook
          (lambda ()
            (define-key objc-mode-map "\C-c\C-b" 'compile)
            (define-key objc-mode-map "\C-c\C-r" 'run)
            (define-key objc-mode-map "\C-c\C-x" 'xcode)
            (define-key objc-mode-map "\C-c\C-d" 'doc)
            (define-key objc-mode-map "\C-c\C-c" 'comment-region)
            (define-key objc-mode-map "\C-cc"    'uncomment-region)
            (setq compile-command "xcodebuild -project ../*.xcodeproj -configuration Debug -sdk iphonesimulator4.3 ")
            (setq compilation-scroll-output t)))
(defun doc ()
  (interactive)
  (shell-command-to-string "~/bin/xcode-show-doc.sh"))
(defun xcode ()
  (interactive)
  (shell-command-to-string "~/bin/xcode-show-proj.sh"))
(defun run ()
  (interactive)
  (shell-command-to-string "~/bin/xcode-run.sh"))

;; ruby ’¤Îdo end’¤Ê’¤É’¤Î’ÂĞ’±ş’´Ø’·¸’¤ò’¼«’Æ°’¤Ç’Êä’Àµ
(require 'ruby-electric)
(add-hook 'ruby-mode-hook '(lambda () (ruby-electric-mode t)))
(setq ruby-electric-expand-delimiters-list nil)

;; rcodetools
(require 'rcodetools)
(setq rct-find-tag-if-available nil)
(defun ruby-mode-hook-rcodetools ()
  (define-key ruby-mode-map "\M-\C-i" 'rct-complete-symbol)
  (define-key ruby-mode-map "\C-c\C-t" 'ruby-toggle-buffer)
  (define-key ruby-mode-map "\C-c\C-d" 'xmp)
  (define-key ruby-mode-map "\C-c\C-f" 'rct-ri))
(add-hook 'ruby-mode-hook 'ruby-mode-hook-rcodetools)

(require 'anything-rcodetools)
(setq rct-get-all-methods-command "PAGER=cat fri -l")
(define-key anything-map [(control ?;)] 'anything-execute-persistent-action)

;;tree-undo				   
(when (require 'undo-tree nil t)
  (global-undo-tree-mode))
				   
;; undo’µ¡’Ç½
(global-set-key [?\C-/] 'undo)

;; anything’µ¯’Æ°’¥³’¥Ş’¥ó’¥É
(define-key global-map (kbd "C-x b") 'anything) ;

	
;; elisp’¤Î’¥¤’¥ó’¥¹’¥È’¡¼’¥ë’¤ò’´Ê’Ã±’¤Ë
(require 'install-elisp)
(setq install-elisp-repository-directory "~/.emacs.d/elisp/")

;; ’²ş’¹Ô’¥³’¡¼’¥É’¤ò’É½’¼¨
(setq eol-mnemonic-dos "(CRLF)")
(setq eol-mnemonic-mac "(CR)")
(setq eol-mnemonic-unix "(LF)")

;; "yes or no"’¤ò"y or n"’¤Ë
(fset 'yes-or-no-p 'y-or-n-p)

;; auto-complete
;; ’Êä’´°’¸õ’Êä’¤ò’¼«’Æ°’¥İ’¥Ã’¥×’¥¢’¥Ã’¥×
;;(require 'auto-complete)
;;(global-auto-complete-mode t)
;;(setq ac-modes (cons 'js-mode ac-modes))

;; ’¥¿’¥Ö’¤È’¤«
(setq js-indent-level 4)


;; gtags’¤Î’Àß’Äê
(autoload 'gtags-mode "gtags" "" t)
(setq gtags-mode-hook
      '(lambda ()
         (local-set-key "\M-t" 'gtags-find-tag)
         (local-set-key "\M-r" 'gtags-find-rtag)
         (local-set-key "\M-s" 'gtags-find-symbol)
         (local-set-key "\C-t" 'gtags-pop-stack)
	 ))

(add-hook 'c-mode-common-hook
          '(lambda()
             (gtags-mode 1)
             (gtags-make-complete-list)
             ))

(add-hook 'php-mode-common-hook
          '(lambda ()
             (gtags-mode 1)
             (gtags-make-complete-list)
             ))

;; ’¤ä’¤Ã’¤Æ’¤ª’¤«’¤Ê’¤¤’¤È’¤À’¤á
(condition-case nil
    (called-interactively-p nil)

  (defmacro called-interactively-p (arg)

    (case arg
	  (interactive `(interactive-p))
 
      ((any nil) `(called-interactively-p)))))

	     

;; (2) And put the following in your ~/.emacs startup file:
(require 'auto-install)
;; (3) Add this to your ~/.emacs to optionally specify a download directory:
(setq auto-install-directory "~/.emacs.d/elisp/")
;; (4) Optionally, if your computer is always connected Internet when Emacs start up,
;;     I recommend you add below to your ~/.emacs, to update package name when start up:
(auto-install-update-emacswiki-package-name t)
;;     And above setup is not necessary, because AutoInstall will automatically update-emacswiki-package-name;;     package name when you just first call `auto-install-from-emacswiki',
;;     above setup just avoid *delay* when you first call `auto-install-from-emacswiki'.d/elisp;;
;; (5) I recommend you add below to your ~/.emacs for install-elisp users:
(auto-install-compatibility-setup)

(require 'anything)

(autoload 'js2-mode "js2-mode" nil t)
(add-to-list 'auto-mode-alist '("\\.\\(js\\|json\\)$" . js2-mode))

(add-to-list 'auto-mode-alist '("\\.m?$" . objc-mode))
(add-to-list 'auto-mode-alist '("\\.h$" . objc-mode))


;; clipboard
(if (not window-system)
    (progn(defun copy-from-osx ()
	    (shell-command-to-string "pbpaste"))
	  (defun paste-to-osx (text &optional push) 	
	    (let ((process-connection-type nil))
	      (let ((proc (start-process "pbcopy" "*Messages*" "pbcopy")))
		(process-send-string proc text)
		(process-send-eof proc))))
	  (setq interprogram-cut-function 'paste-to-osx)
	  (setq interprogram-paste-function 'copy-from-osx)))

;; ruby-mode
(autoload 'ruby-mode "ruby-mode"
  "Mode for editing ruby source files" t)
(add-to-list 'auto-mode-alist '("\\.rb$" . ruby-mode))
(add-to-list 'auto-mode-alist '("Capfile$" . ruby-mode))
(add-to-list 'auto-mode-alist '("Gemfile$" . ruby-mode))

;; objc, Xcode
(setq auto-mode-alist (append (list '("\\.h$" . objc-mode)
                                    '("\\.m$" . objc-mode))
                              auto-mode-alist))
(add-hook 'objc-mode-hook
          (lambda ()
            (define-key objc-mode-map "\C-c\C-b" 'compile)
            (define-key objc-mode-map "\C-c\C-r" 'run)
            (define-key objc-mode-map "\C-c\C-x" 'xcode)
            (define-key objc-mode-map "\C-c\C-d" 'doc)
            (define-key objc-mode-map "\C-c\C-c" 'comment-region)
            (define-key objc-mode-map "\C-cc"    'uncomment-region)
            (setq compile-command "xcodebuild -project ../*.xcodeproj -configuration Debug -sdk iphonesimulator4.3 ")
            (setq compilation-scroll-output t)))
(defun doc ()
  (interactive)
  (shell-command-to-string "~/bin/xcode-show-doc.sh"))
(defun xcode ()
  (interactive)
  (shell-command-to-string "~/bin/xcode-show-proj.sh"))
(defun run ()
  (interactive)
  (shell-command-to-string "~/bin/xcode-run.sh"))

;; ruby ’¤Îdo end’¤Ê’¤É’¤Î’ÂĞ’±ş’´Ø’·¸’¤ò’¼«’Æ°’¤Ç’Êä’Àµ
(require 'ruby-electric)
(add-hook 'ruby-mode-hook '(lambda () (ruby-electric-mode t)))
(setq ruby-electric-expand-delimiters-list nil)

;; rcodetools
(require 'rcodetools)
(setq rct-find-tag-if-available nil)
(defun ruby-mode-hook-rcodetools ()
  (define-key ruby-mode-map "\M-\C-i" 'rct-complete-symbol)
  (define-key ruby-mode-map "\C-c\C-t" 'ruby-toggle-buffer)
  (define-key ruby-mode-map "\C-c\C-d" 'xmp)
  (define-key ruby-mode-map "\C-c\C-f" 'rct-ri))
(add-hook 'ruby-mode-hook 'ruby-mode-hook-rcodetools)

(require 'anything-rcodetools)
(setq rct-get-all-methods-command "PAGER=cat fri -l")
(define-key anything-map [(control ?;)] 'anything-execute-persistent-action)

;;tree-undo				   
(when (require 'undo-tree nil t)
  (global-undo-tree-mode))
				   
;; undo’µ¡’Ç½
(global-set-key [?\C-/] 'undo)

;; anything’µ¯’Æ°’¥³’¥Ş’¥ó’¥É
(define-key global-map (kbd "C-x b") 'anything) ;


;; antything
(setq anything-sources
      '(anything-c-source-buffers+
	

;; elisp’¤Î’¥¤’¥ó’¥¹’¥È’¡¼’¥ë’¤ò’´Ê’Ã±’¤Ë
(require 'install-elisp)
(setq install-elisp-repository-directory "~/.emacs.d/elisp/")

;; ’²ş’¹Ô’¥³’¡¼’¥É’¤ò’É½’¼¨
(setq eol-mnemonic-dos "(CRLF)")
(setq eol-mnemonic-mac "(CR)")
(setq eol-mnemonic-unix "(LF)")

;; "yes or no"’¤ò"y or n"’¤Ë
(fset 'yes-or-no-p 'y-or-n-p)

;; auto-complete
;; ’Êä’´°’¸õ’Êä’¤ò’¼«’Æ°’¥İ’¥Ã’¥×’¥¢’¥Ã’¥×
;;(require 'auto-complete)
;;(global-auto-complete-mode t)
;;(setq ac-modes (cons 'js-mode ac-modes))

;; ’¥¿’¥Ö’¤È’¤«
(setq js-indent-level 4)


;; gtags’¤Î’Àß’Äê
(autoload 'gtags-mode "gtags" "" t)
(setq gtags-mode-hook
      '(lambda ()
         (local-set-key "\M-t" 'gtags-find-tag)
         (local-set-key "\M-r" 'gtags-find-rtag)
         (local-set-key "\M-s" 'gtags-find-symbol)
         (local-set-key "\C-t" 'gtags-pop-stack)
	 ))

(add-hook 'c-mode-common-hook
          '(lambda()
             (gtags-mode 1)
             (gtags-make-complete-list)
             ))

(add-hook 'php-mode-common-hook
          '(lambda ()
             (gtags-mode 1)
             (gtags-make-complete-list)
             ))

;; ’¤ä’¤Ã’¤Æ’¤ª’¤«’¤Ê’¤¤’¤È’¤À’¤á
(condition-case nil
    (called-interactively-p nil)

  (defmacro called-interactively-p (arg)

    (case arg
	  (interactive `(interactive-p))
 
      ((any nil) `(called-interactively-p)))))

	     

;; (2) And put the following in your ~/.emacs startup file:
(require 'auto-install)
;; (3) Add this to your ~/.emacs to optionally specify a download directory:
(setq auto-install-directory "~/.emacs.d/elisp/")
;; (4) Optionally, if your computer is always connected Internet when Emacs start up,
;;     I recommend you add below to your ~/.emacs, to update package name when start up:
(auto-install-update-emacswiki-package-name t)
;;     And above setup is not necessary, because AutoInstall will automatically update-emacswiki-package-name;;     package name when you just first call `auto-install-from-emacswiki',
;;     above setup just avoid *delay* when you first call `auto-install-from-emacswiki'.d/elisp;;
;; (5) I recommend you add below to your ~/.emacs for install-elisp users:
(auto-install-compatibility-setup)

(require 'anything)

(autoload 'js2-mode "js2-mode" nil t)
(add-to-list 'auto-mode-alist '("\\.\\(js\\|json\\)$" . js2-mode))

(add-to-list 'auto-mode-alist '("\\.m?$" . objc-mode))
(add-to-list 'auto-mode-alist '("\\.h$" . objc-mode))


;; clipboard
(if (not window-system)
    (progn(defun copy-from-osx ()
	    (shell-command-to-string "pbpaste"))
	  (defun paste-to-osx (text &optional push) 	
	    (let ((process-connection-type nil))
	      (let ((proc (start-process "pbcopy" "*Messages*" "pbcopy")))
		(process-send-string proc text)
		(process-send-eof proc))))
	  (setq interprogram-cut-function 'paste-to-osx)
	  (setq interprogram-paste-function 'copy-from-osx)))

;; ruby-mode
(autoload 'ruby-mode "ruby-mode"
  "Mode for editing ruby source files" t)
(add-to-list 'auto-mode-alist '("\\.rb$" . ruby-mode))
(add-to-list 'auto-mode-alist '("Capfile$" . ruby-mode))
(add-to-list 'auto-mode-alist '("Gemfile$" . ruby-mode))

;; objc, Xcode
(setq auto-mode-alist (append (list '("\\.h$" . objc-mode)
                                    '("\\.m$" . objc-mode))
                              auto-mode-alist))
(add-hook 'objc-mode-hook
          (lambda ()
            (define-key objc-mode-map "\C-c\C-b" 'compile)
            (define-key objc-mode-map "\C-c\C-r" 'run)
            (define-key objc-mode-map "\C-c\C-x" 'xcode)
            (define-key objc-mode-map "\C-c\C-d" 'doc)
            (define-key objc-mode-map "\C-c\C-c" 'comment-region)
            (define-key objc-mode-map "\C-cc"    'uncomment-region)
            (setq compile-command "xcodebuild -project ../*.xcodeproj -configuration Debug -sdk iphonesimulator4.3 ")
            (setq compilation-scroll-output t)))
(defun doc ()
  (interactive)
  (shell-command-to-string "~/bin/xcode-show-doc.sh"))
(defun xcode ()
  (interactive)
  (shell-command-to-string "~/bin/xcode-show-proj.sh"))
(defun run ()
  (interactive)
  (shell-command-to-string "~/bin/xcode-run.sh"))

;; ruby ’¤Îdo end’¤Ê’¤É’¤Î’ÂĞ’±ş’´Ø’·¸’¤ò’¼«’Æ°’¤Ç’Êä’Àµ
(require 'ruby-electric)
(add-hook 'ruby-mode-hook '(lambda () (ruby-electric-mode t)))
(setq ruby-electric-expand-delimiters-list nil)

;; rcodetools
(require 'rcodetools)
(setq rct-find-tag-if-available nil)
(defun ruby-mode-hook-rcodetools ()
  (define-key ruby-mode-map "\M-\C-i" 'rct-complete-symbol)
  (define-key ruby-mode-map "\C-c\C-t" 'ruby-toggle-buffer)
  (define-key ruby-mode-map "\C-c\C-d" 'xmp)
  (define-key ruby-mode-map "\C-c\C-f" 'rct-ri))
(add-hook 'ruby-mode-hook 'ruby-mode-hook-rcodetools)

(require 'anything-rcodetools)
(setq rct-get-all-methods-command "PAGER=cat fri -l")
(define-key anything-map [(control ?;)] 'anything-execute-persistent-action)

;;tree-undo				   
(when (require 'undo-tree nil t)
  (global-undo-tree-mode))
				   
;; undo’µ¡’Ç½
¯œô¤ø(global-set-key [?\C-/] 'undo)

;; anything’µ¯’Æ°’¥³’¥Ş’¥ó’¥É
(define-key global-map (kbd "C-x b") 'anything) ;

;; elisp’¤Î’¥¤’¥ó’¥¹’¥È’¡¼’¥ë’¤ò’´Ê’Ã±’¤Ë
(require 'install-elisp)
(setq install-elisp-repository-directory "~/.emacs.d/elisp/")

;; ’²ş’¹Ô’¥³’¡¼’¥É’¤ò’É½’¼¨
(setq eol-mnemonic-dos "(CRLF)")
(setq eol-mnemonic-mac "(CR)")
(setq eol-mnemonic-unix "(LF)")

;; "yes or no"’¤ò"y or n"’¤Ë
(fset 'yes-or-no-p 'y-or-n-p)

;; auto-complete
;; ’Êä’´°’¸õ’Êä’¤ò’¼«’Æ°’¥İ’¥Ã’¥×’¥¢’¥Ã’¥×
;;(require 'auto-complete)
;;(global-auto-complete-mode t)
;;(setq ac-modes (cons 'js-mode ac-modes))

;; ’¥¿’¥Ö’¤È’¤«
(setq js-indent-level 4)


;; gtags’¤Î’Àß’Äê
(autoload 'gtags-mode "gtags" "" t)
(setq gtags-mode-hook
      '(lambda ()
         (local-set-key "\M-t" 'gtags-find-tag)
         (local-set-key "\M-r" 'gtags-find-rtag)
         (local-set-key "\M-s" 'gtags-find-symbol)
         (local-set-key "\C-t" 'gtags-pop-stack)
	 ))

(add-hook 'c-mode-common-hook
          '(lambda()
             (gtags-mode 1)
             (gtags-make-complete-list)
             ))

(add-hook 'php-mode-common-hook
          '(lambda ()
             (gtags-mode 1)
             (gtags-make-complete-list)
             ))

;; ’¤ä’¤Ã’¤Æ’¤ª’¤«’¤Ê’¤¤’¤È’¤À’¤á
(condition-case nil
    (called-interactively-p nil)

  (defmacro called-interactively-p (arg)

    (case arg
	  (interactive `(interactive-p))
 
      ((any nil) `(called-interactively-p)))))

	     

;; (2) And put the following in your ~/.emacs startup file:
(require 'auto-install)
;; (3) Add this to your ~/.emacs to optionally specify a download directory:
(setq auto-install-directory "~/.emacs.d/elisp/")
;; (4) Optionally, if your computer is always connected Internet when Emacs start up,
;;     I recommend you add below to your ~/.emacs, to update package name when start up:
(auto-install-update-emacswiki-package-name t)
;;     And above setup is not necessary, because AutoInstall will automatically update-emacswiki-package-name;;     package name when you just first call `auto-install-from-emacswiki',
;;     above setup just avoid *delay* when you first call `auto-install-from-emacswiki'.d/elisp;;
;; (5) I recommend you add below to your ~/.emacs for install-elisp users:
(auto-install-compatibility-setup)

(require 'anything)

(autoload 'js2-mode "js2-mode" nil t)
(add-to-list 'auto-mode-alist '("\\.\\(js\\|json\\)$" . js2-mode))

(add-to-list 'auto-mode-alist '("\\.m?$" . objc-mode))
(add-to-list 'auto-mode-alist '("\\.h$" . objc-mode))


;; clipboard
(if (not window-system)
    (progn(defun copy-from-osx ()
	    (shell-command-to-string "pbpaste"))
	  (defun paste-to-osx (text &optional push) 	
	    (let ((process-connection-type nil))
	      (let ((proc (start-process "pbcopy" "*Messages*" "pbcopy")))
		(process-send-string proc text)
		(process-send-eof proc))))
	  (setq interprogram-cut-function 'paste-to-osx)
	  (setq interprogram-paste-function 'copy-from-osx)))

;; ruby-mode
(autoload 'ruby-mode "ruby-mode"
  "Mode for editing ruby source files" t)
(add-to-list 'auto-mode-alist '("\\.rb$" . ruby-mode))
(add-to-list 'auto-mode-alist '("Capfile$" . ruby-mode))
(add-to-list 'auto-mode-alist '("Gemfile$" . ruby-mode))

;; objc, Xcode
(setq auto-mode-alist (append (list '("\\.h$" . objc-mode)
                                    '("\\.m$" . objc-mode))
                              auto-mode-alist))
(add-hook 'objc-mode-hook
          (lambda ()
            (define-key objc-mode-map "\C-c\C-b" 'compile)
            (define-key objc-mode-map "\C-c\C-r" 'run)
            (define-key objc-mode-map "\C-c\C-x" 'xcode)
            (define-key objc-mode-map "\C-c\C-d" 'doc)
            (define-key objc-mode-map "\C-c\C-c" 'comment-region)
            (define-key objc-mode-map "\C-cc"    'uncomment-region)
            (setq compile-command "xcodebuild -project ../*.xcodeproj -configuration Debug -sdk iphonesimulator4.3 ")
            (setq compilation-scroll-output t)))
(defun doc ()
  (interactive)
  (shell-command-to-string "~/bin/xcode-show-doc.sh"))
(defun xcode ()
  (interactive)
œôøºœôøº  (shell-command-to-string "~/bin/xcode-show-proj.sh"))
(defun run ()
  (interactive)
  (shell-command-to-string "~/bin/xcode-run.sh"))

;; ruby ’¤Îdo end’¤Ê’¤É’¤Î’ÂĞ’±ş’´Ø’·¸’¤ò’¼«’Æ°’¤Ç’Êä’Àµ
(require 'ruby-electric)
(add-hook 'ruby-mode-hook '(lambda () (ruby-electric-mode t)))
(setq ruby-electric-expand-delimiters-list nil)

;; rcodetools
(require 'rcodetools)
(setq rct-find-tag-if-available nil)
(defun ruby-mode-hook-rcodetools ()
  (define-key ruby-mode-map "\M-\C-i" 'rct-complete-symbol)
  (define-key ruby-mode-map "\C-c\C-t" 'ruby-toggle-buffer)
  (define-key ruby-mode-map "\C-c\C-d" 'xmp)
  (define-key ruby-mode-map "\C-c\C-f" 'rct-ri))
(add-hook 'ruby-mode-hook 'ruby-mode-hook-rcodetools)

(require 'anything-rcodetools)
(setq rct-get-all-methods-command "PAGER=cat fri -l")
(define-key anything-map [(control ?;)] 'anything-execute-persistent-action)

;;tree-undo				   
(when (require 'undo-tree nil t)
  (global-undo-tree-mode))
				   
;; undo’µ¡’Ç½
(global-set-key [?\C-/] 'undo)

;; anything’µ¯’Æ°’¥³’¥Ş’¥ó’¥É
(define-key global-map (kbd "C-x b") 'anything)

;; antything
;;(setq anything-sources
;;      '(anything-c-source-buffers+
;;	anything-c-source-colors
;;	anything-c-source-recentf
;;	anything-c-source-man-pages
;;	anything-c-source-emacs-commands
;;	anything-c-source-emacs-functions
;;	anything-c-source-files-in-current-dir
;;	))

;;(require 'recentf)
;;(setq recentf-max-saved-items 1000)
;;(recentf-mode 1)
;;(put 'set-goal-column 'disabled nil)
